<!DOCTYPE html>
<html lang="el">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Î‘Ï€ÏŒÎ´Î¿ÏƒÎ· Î‘ÎºÎ¹Î½Î®Ï„Î¿Ï… | Â©Â® Î“ÎºÎ±ÏÎ¯Ï€Î·Ï‚ Î“Î¹ÏÏÎ³Î¿Ï‚</title>

<!-- OFFLINE: Fonts inlined as base64 data URIs would be too large, 
     so we use system serif/sans fallbacks + web-safe fonts.
     All functionality works 100% offline. PDF export uses browser print. -->
<style>
  @import url('data:text/css,');

  :root {
    --navy:   #1a3a6b;
    --royal:  #2563b8;
    --gold:   #f5a623;
    --orange: #e8722a;
    --white:  #ffffff;
    --bg:      #e8eef7;
    --card:   #ffffff;
    --text:   #1a2540;
    --muted:  #5a6a8a;
    --radius: 14px;
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: var(--bg);
    color: var(--text);
    min-height: 100vh;
    display: flex;
    align-items: flex-start;
    justify-content: center;
    padding: 32px 16px 48px;
  }

  .wrapper { width: 100%; max-width: 580px; }

  header {
    background: linear-gradient(135deg, var(--navy) 0%, var(--royal) 100%);
    border-radius: var(--radius) var(--radius) 0 0;
    padding: 28px 32px 24px;
    position: relative;
    overflow: hidden;
  }

  header::after {
    content: '';
    position: absolute;
    bottom: 0; left: 0; right: 0;
    height: 4px;
    background: linear-gradient(90deg, var(--gold), var(--orange));
  }

  header h1 {
    font-family: Georgia, 'Times New Roman', serif;
    font-size: 2.1rem;
    color: var(--white);
    line-height: 1.15;
    font-weight: 700;
  }

  header p {
    color: rgba(255,255,255,0.7);
    font-size: 0.85rem;
    margin-top: 6px;
    font-weight: 500;
  }

  .card {
    background: var(--card);
    border: 1px solid rgba(37,99,184,0.1);
    border-top: none;
    padding: 24px 28px;
  }

  .card.last { border-radius: 0 0 var(--radius) var(--radius); }

  .card-title {
    font-size: 10px;
    letter-spacing: 0.18em;
    text-transform: uppercase;
    color: var(--royal);
    font-weight: 700;
    margin-bottom: 18px;
    padding-bottom: 8px;
    border-bottom: 2px solid var(--bg);
  }

  .stats-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    margin-bottom: 20px;
  }

  .stat-box {
    background: #fff;
    border: 1px solid #e2e8f0;
    border-radius: 12px;
    padding: 15px;
    border-left: 4px solid var(--orange);
    box-shadow: 0 2px 4px rgba(0,0,0,0.02);
  }

  .stat-label {
    font-size: 10px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--muted);
    font-weight: 700;
    margin-bottom: 5px;
  }

  .stat-value {
    font-size: 1.25rem;
    font-weight: 700;
    color: var(--navy);
  }

  .input-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 14px;
    margin-bottom: 14px;
  }

  .field { display: flex; flex-direction: column; gap: 6px; }

  label {
    font-size: 0.73rem;
    font-weight: 600;
    color: var(--muted);
  }

  .input-wrap { position: relative; }

  .input-wrap .symbol {
    position: absolute;
    left: 12px; top: 50%;
    transform: translateY(-50%);
    color: var(--muted);
    font-size: 0.88rem;
    font-weight: 700;
    pointer-events: none;
  }

  input[type=number] {
    width: 100%;
    padding: 11px 12px 11px 28px;
    background: var(--bg);
    border: 1.5px solid rgba(37,99,184,0.18);
    border-radius: 8px;
    color: var(--text);
    font-size: 0.95rem;
    font-weight: 600;
    outline: none;
    transition: border-color 0.2s;
  }

  input[type=number]:focus {
    border-color: var(--royal);
    background: #fff;
  }

  /* Hide number input arrows */
  input[type=number]::-webkit-inner-spin-button,
  input[type=number]::-webkit-outer-spin-button { -webkit-appearance: none; }
  input[type=number] { -moz-appearance: textfield; }

  .toggle-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    background: var(--bg);
    border-radius: 8px;
    padding: 10px 14px;
    margin-bottom: 8px;
  }

  .toggle-label { font-size: 0.8rem; color: var(--navy); font-weight: 600; }

  .toggle { position: relative; width: 40px; height: 22px; }
  .toggle input { opacity: 0; width: 0; height: 0; }

  .slider {
    position: absolute; inset: 0;
    background: #c8d4e8;
    border-radius: 22px;
    cursor: pointer;
    transition: 0.2s;
  }
  .slider::before {
    content: '';
    position: absolute;
    width: 15px; height: 15px;
    left: 3.5px; top: 3.5px;
    background: white;
    border-radius: 50%;
    transition: 0.2s;
    box-shadow: 0 1px 3px rgba(0,0,0,0.2);
  }
  .toggle input:checked + .slider { background: var(--royal); }
  .toggle input:checked + .slider::before { transform: translateX(17px); }

  .costs-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    padding: 16px;
    background: #f8faff;
    border-radius: 10px;
    border: 1.5px dashed rgba(37,99,184,0.2);
    margin-bottom: 16px;
  }

  .btn {
    width: 100%;
    padding: 14px;
    background: linear-gradient(135deg, var(--navy) 0%, var(--royal) 100%);
    color: white;
    font-weight: 700;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    text-transform: uppercase;
    font-size: 0.9rem;
    letter-spacing: 0.05em;
    transition: opacity 0.2s, transform 0.1s;
  }

  .btn:hover { opacity: 0.9; }
  .btn:active { transform: scale(0.99); }

  .results { display: none; }
  .results.show { display: block; animation: fadeUp 0.35s ease; }

  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(10px); }
    to   { opacity: 1; transform: translateY(0); }
  }

  .yield-banner {
    background: linear-gradient(135deg, var(--navy) 0%, var(--royal) 100%);
    border-radius: var(--radius);
    padding: 28px 24px;
    text-align: center;
    margin-bottom: 12px;
  }

  .yb-number {
    font-family: Georgia, serif;
    font-size: 4rem;
    color: var(--gold);
    line-height: 1;
    font-weight: 700;
  }

  .verdict-badge {
    display: inline-block;
    margin-top: 10px;
    padding: 6px 16px;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: 700;
    letter-spacing: 0.03em;
  }
  .verdict-good { background: rgba(16,185,129,0.25); color: #6ee7b7; }
  .verdict-medium { background: rgba(245,166,35,0.25); color: var(--gold); }
  .verdict-low { background: rgba(239,68,68,0.2); color: #fca5a5; }

  .formula-box {
    background: #f0f4fa;
    border-radius: 10px;
    padding: 20px;
    font-size: 0.92rem;
    line-height: 2;
    margin-bottom: 14px;
    border: 1px solid #e2e8f0;
  }

  .highlight { color: var(--royal); font-weight: 700; }
  hr { border: none; border-top: 1px solid #cbd5e0; margin: 15px 0; }

  .action-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
  }

  .btn-reset {
    padding: 12px;
    border-radius: 10px;
    font-weight: 700;
    cursor: pointer;
    text-transform: uppercase;
    background: white;
    border: 1.5px solid #ccc;
    color: var(--navy);
    font-size: 0.82rem;
    letter-spacing: 0.04em;
    transition: background 0.15s;
  }
  .btn-reset:hover { background: #f5f7fa; }

  .btn-pdf {
    padding: 12px;
    border-radius: 10px;
    font-weight: 700;
    cursor: pointer;
    text-transform: uppercase;
    background: linear-gradient(135deg, var(--gold), var(--orange));
    border: none;
    color: white;
    font-size: 0.82rem;
    letter-spacing: 0.04em;
    transition: opacity 0.15s;
  }
  .btn-pdf:hover { opacity: 0.9; }

  /* ===== PRINT / PDF STYLES ===== */
  @media print {
    @page {
      size: A4;
      margin: 15mm 12mm;
    }

    body {
      background: #fff !important;
      padding: 0;
      display: block;
      -webkit-print-color-adjust: exact;
      print-color-adjust: exact;
      color-adjust: exact;
    }

    .wrapper {
      max-width: 100%;
      box-shadow: none;
    }

    header {
      border-radius: 10px 10px 0 0 !important;
      -webkit-print-color-adjust: exact;
      print-color-adjust: exact;
    }

    /* Hide form on print, show results */
    #inputCard { display: none !important; }

    .results {
      display: block !important;
      border: none !important;
      padding: 0 !important;
    }

    .action-row { display: none !important; }

    .yield-banner {
      -webkit-print-color-adjust: exact;
      print-color-adjust: exact;
    }

    .stat-box {
      break-inside: avoid;
    }

    /* Print footer */
    .print-footer {
      display: block !important;
      text-align: center;
      font-size: 9px;
      color: #888;
      margin-top: 20px;
      border-top: 1px solid #eee;
      padding-top: 8px;
    }
  }

  /* Hide print footer on screen */
  .print-footer { display: none; }

  /* Watermark on print */
  @media print {
    .watermark {
      display: block !important;
    }
  }
  .watermark { display: none; }

</style>
</head>
<body>

<div class="wrapper">
  <header>
    <h1>Î‘Ï€ÏŒÎ´Î¿ÏƒÎ· <span style="color:var(--gold)">Î‘ÎºÎ¹Î½Î®Ï„Î¿Ï…</span></h1>
    <p>Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÏ„Î®Ï‚ Î±Ï€ÏŒÎ´Î¿ÏƒÎ·Ï‚ ÎµÎ½Î¿Î¹ÎºÎ¯Î±ÏƒÎ·Ï‚ &copy;&reg; GeorgiosGkaripis</p>
  </header>

  <form id="calcForm">
    <div class="card last" id="inputCard">
      <div class="card-title">Î’Î±ÏƒÎ¹ÎºÎ¬ Î£Ï„Î¿Î¹Ï‡ÎµÎ¯Î±</div>
      <div class="input-row">
        <div class="field">
          <label>ÎœÎ·Î½Î¹Î±Î¯Î¿ ÎœÎ¯ÏƒÎ¸Ï‰Î¼Î± (â‚¬)</label>
          <div class="input-wrap">
            <span class="symbol">â‚¬</span>
            <input type="number" id="rent" placeholder="Ï€Ï‡. 600" min="0">
          </div>
        </div>
        <div class="field">
          <label>Î¤Î¹Î¼Î® Î‘Î³Î¿ÏÎ¬Ï‚ (â‚¬)</label>
          <div class="input-wrap">
            <span class="symbol">â‚¬</span>
            <input type="number" id="price" placeholder="Ï€Ï‡. 120000" min="0">
          </div>
        </div>
      </div>

      <div class="toggle-row">
        <span class="toggle-label">ÎˆÎ¾Î¿Î´Î± Î‘Ï€ÏŒÎºÏ„Î·ÏƒÎ·Ï‚</span>
        <label class="toggle">
          <input type="checkbox" id="extraToggle" onchange="toggleFields('extraFields', this)">
          <span class="slider"></span>
        </label>
      </div>
      <div id="extraFields" style="display:none; margin-bottom:8px;">
        <div class="costs-grid">
          <div class="field"><label>Î¦ÏŒÏÎ¿Ï‚ ÎœÎµÏ„Î±Î²Î¯Î²Î±ÏƒÎ·Ï‚</label><div class="input-wrap"><span class="symbol">â‚¬</span><input type="number" id="tax" placeholder="0" min="0"></div></div>
          <div class="field"><label>ÎœÎµÏƒÎ¹Ï„Î¹ÎºÎ¬</label><div class="input-wrap"><span class="symbol">â‚¬</span><input type="number" id="agent" placeholder="0" min="0"></div></div>
          <div class="field"><label>Î£Ï…Î¼Î²Î¿Î»Î±Î¹Î¿Î³ÏÎ¬Ï†Î¿Ï‚</label><div class="input-wrap"><span class="symbol">â‚¬</span><input type="number" id="notary" placeholder="0" min="0"></div></div>
          <div class="field"><label>Î‘Î½Î±ÎºÎ±Î¯Î½Î¹ÏƒÎ·</label><div class="input-wrap"><span class="symbol">â‚¬</span><input type="number" id="reno" placeholder="0" min="0"></div></div>
        </div>
      </div>

      <div class="toggle-row">
        <span class="toggle-label">Î›ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¹ÎºÎ¬ ÎˆÎ¾Î¿Î´Î± (Î•Ï„Î®ÏƒÎ¹Î±)</span>
        <label class="toggle">
          <input type="checkbox" id="opToggle" onchange="toggleFields('opFields', this)">
          <span class="slider"></span>
        </label>
      </div>
      <div id="opFields" style="display:none; margin-bottom:8px;">
        <div class="costs-grid">
          <div class="field"><label>Î•ÎÎ¦Î™Î‘</label><div class="input-wrap"><span class="symbol">â‚¬</span><input type="number" id="enfia" placeholder="0" min="0"></div></div>
          <div class="field"><label>Î‘ÏƒÏ†Î¬Î»ÎµÎ¹Î±</label><div class="input-wrap"><span class="symbol">â‚¬</span><input type="number" id="maint" placeholder="0" min="0"></div></div>
        </div>
      </div>

      <button type="button" class="btn" onclick="calculate()">Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚ â†’</button>
    </div>
  </form>

  <!-- Î‘Î ÎŸÎ¤Î•Î›Î•Î£ÎœÎ‘Î¤Î‘ -->
  <div class="card last results" id="results">
    <div class="card-title">Î‘Ï€Î¿Ï„ÎµÎ»Î­ÏƒÎ¼Î±Ï„Î± Î‘Î½Î¬Î»Ï…ÏƒÎ·Ï‚</div>

    <!-- 4 stat boxes -->
    <div class="stats-grid">
      <div class="stat-box">
        <div class="stat-label">Î•Ï„Î®ÏƒÎ¹Î¿ ÎœÎ¯ÏƒÎ¸Ï‰Î¼Î±</div>
        <div class="stat-value" id="statAnnualRent">â€”</div>
      </div>
      <div class="stat-box">
        <div class="stat-label">Î£Ï…Î½Î¿Î»Î¹ÎºÏŒ ÎšÏŒÏƒÏ„Î¿Ï‚</div>
        <div class="stat-value" id="statTotalCost">â€”</div>
      </div>
      <div class="stat-box">
        <div class="stat-label">Î§ÏÏŒÎ½Î¹Î± Î‘Ï€ÏŒÏƒÎ²ÎµÏƒÎ·Ï‚</div>
        <div class="stat-value" id="statPayback">â€”</div>
      </div>
      <div class="stat-box">
        <div class="stat-label">ÎœÎ·Î½Î¹Î±Î¯Î± Î‘Ï€ÏŒÎ´Î¿ÏƒÎ·</div>
        <div class="stat-value" id="statMonthlyYield">â€”</div>
      </div>
    </div>

    <!-- Yield Banner -->
    <div class="yield-banner">
      <div style="color:rgba(255,255,255,0.75); font-size: 0.75rem; text-transform: uppercase; font-weight: 700; letter-spacing:0.1em; margin-bottom: 5px;">Î•Ï„Î®ÏƒÎ¹Î± ÎšÎ±Î¸Î±ÏÎ® Î‘Ï€ÏŒÎ´Î¿ÏƒÎ·</div>
      <div class="yb-number" id="yieldNum">0%</div>
      <div id="verdictBadge"></div>
    </div>

    <!-- Formula breakdown -->
    <div class="formula-box" id="formulaBox"></div>

    <!-- Buttons -->
    <div class="action-row">
      <button class="btn-reset" onclick="resetForm()">â† ÎÎ­Î± Î‘Î½Î¬Î»Ï…ÏƒÎ·</button>
      <button class="btn-pdf" onclick="savePDF()">â¬‡ Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ· PDF</button>
    </div>

    <!-- Print footer (visible only in print) -->
    <div class="print-footer">
      Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î®Î¸Î·ÎºÎµ Î±Ï€ÏŒ: GeorgiosGkaripis | Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÏ„Î®Ï‚ Î‘Ï€ÏŒÎ´Î¿ÏƒÎ·Ï‚ Î‘ÎºÎ¹Î½Î®Ï„Î¿Ï…
    </div>
  </div>
</div>

<script>
  function toggleFields(id, cb) {
    document.getElementById(id).style.display = cb.checked ? 'block' : 'none';
  }

  function fmt(n) {
    return n.toLocaleString('el-GR', { minimumFractionDigits: 0, maximumFractionDigits: 0 }) + ' â‚¬';
  }

  function calculate() {
    const rent  = parseFloat(document.getElementById('rent').value)  || 0;
    const price = parseFloat(document.getElementById('price').value) || 0;

    if (rent <= 0 || price <= 0) {
      alert('Î Î±ÏÎ±ÎºÎ±Î»Ï ÏƒÏ…Î¼Ï€Î»Î·ÏÏÏƒÏ„Îµ Ï„Î¿Ï…Î»Î¬Ï‡Î¹ÏƒÏ„Î¿Î½ Ï„Î¿ Î¼Î·Î½Î¹Î±Î¯Î¿ Î¼Î¯ÏƒÎ¸Ï‰Î¼Î± ÎºÎ±Î¹ Ï„Î·Î½ Ï„Î¹Î¼Î® Î±Î³Î¿ÏÎ¬Ï‚.');
      return;
    }

    const tax    = parseFloat(document.getElementById('tax').value)    || 0;
    const agent  = parseFloat(document.getElementById('agent').value)  || 0;
    const notary = parseFloat(document.getElementById('notary').value) || 0;
    const reno   = parseFloat(document.getElementById('reno').value)   || 0;
    const enfia  = parseFloat(document.getElementById('enfia').value)  || 0;
    const maint  = parseFloat(document.getElementById('maint').value)  || 0;

    const extras    = tax + agent + notary + reno;
    const ops       = enfia + maint;
    const annualRent = rent * 12;
    const totalCost  = price + extras;
    const netAnnual  = annualRent - ops;
    const yieldPct   = (netAnnual / totalCost) * 100;
    const monthlyYield = yieldPct / 12;
    const paybackYears = netAnnual > 0 ? (totalCost / netAnnual) : Infinity;

    // Update stat boxes
    document.getElementById('statAnnualRent').textContent   = fmt(annualRent);
    document.getElementById('statTotalCost').textContent    = fmt(totalCost);
    document.getElementById('statPayback').textContent      = isFinite(paybackYears) ? paybackYears.toFixed(1) + ' Ï‡ÏÏŒÎ½Î¹Î±' : 'âˆ';
    document.getElementById('statMonthlyYield').textContent = monthlyYield.toFixed(2) + '%';

    // Yield
    document.getElementById('yieldNum').textContent = yieldPct.toFixed(1) + '%';

    // Verdict badge
    let badge = '';
    if (yieldPct >= 5) {
      badge = '<span class="verdict-badge verdict-good">âœ“ Î™ÏƒÏ‡Ï…ÏÎ® Î‘Ï€ÏŒÎ´Î¿ÏƒÎ·</span>';
    } else if (yieldPct >= 3) {
      badge = '<span class="verdict-badge verdict-medium">~ ÎœÎ­Ï„ÏÎ¹Î± Î‘Ï€ÏŒÎ´Î¿ÏƒÎ·</span>';
    } else {
      badge = '<span class="verdict-badge verdict-low">âœ— Î§Î±Î¼Î·Î»Î® Î‘Ï€ÏŒÎ´Î¿ÏƒÎ·</span>';
    }
    document.getElementById('verdictBadge').innerHTML = badge;

    // Formula box
    let html = '';
    html += `<strong>ÎœÎ¯ÏƒÎ¸Ï‰Î¼Î±/Î¼Î®Î½Î±:</strong> ${fmt(rent)} Ã— 12 = <span class="highlight">${fmt(annualRent)}</span>`;
    if (ops > 0) {
      html += `<br><strong>Î›ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¹ÎºÎ¬ Î­Î¾Î¿Î´Î±:</strong> âˆ’ ${fmt(ops)}`;
      html += `<br><strong>ÎšÎ±Î¸Î±ÏÏŒ ÎµÎ¹ÏƒÏŒÎ´Î·Î¼Î±:</strong> <span class="highlight">${fmt(netAnnual)}</span>`;
    }
    html += `<br><strong>Î¤Î¹Î¼Î® Î±Î³Î¿ÏÎ¬Ï‚:</strong> ${fmt(price)}`;
    if (extras > 0) {
      html += `<br><strong>ÎˆÎ¾Î¿Î´Î± Î±Ï€ÏŒÎºÏ„Î·ÏƒÎ·Ï‚:</strong> + ${fmt(extras)}`;
      html += `<br><strong>Î£Ï…Î½Î¿Î»Î¹ÎºÏŒ ÎºÏŒÏƒÏ„Î¿Ï‚:</strong> <span class="highlight">${fmt(totalCost)}</span>`;
    }
    html += `<hr>`;
    html += `<strong>Î¤ÏÏ€Î¿Ï‚:</strong> (${fmt(netAnnual)} Ã· ${fmt(totalCost)}) Ã— 100 = <span class="highlight">${yieldPct.toFixed(2)}%</span>`;
    if (isFinite(paybackYears)) {
      html += `<br><strong>Î‘Ï€ÏŒÏƒÎ²ÎµÏƒÎ·:</strong> ${fmt(totalCost)} Ã· ${fmt(netAnnual)} = <span class="highlight">${paybackYears.toFixed(1)} Î­Ï„Î·</span>`;
    }

    document.getElementById('formulaBox').innerHTML = html;

    // Show results, hide form
    document.getElementById('inputCard').style.display = 'none';
    const resEl = document.getElementById('results');
    resEl.style.display = 'block';
    resEl.classList.add('show');
  }

  function savePDF() {
    // Use browser print dialog which supports "Save as PDF"
    // Instructions shown briefly before opening dialog
    const msg = document.createElement('div');
    msg.style.cssText = 'position:fixed;top:0;left:0;right:0;background:#1a3a6b;color:white;text-align:center;padding:12px 20px;z-index:9999;font-size:0.85rem;font-weight:600;';
    msg.innerHTML = 'ğŸ“„ Î£Ï„Î¿ Ï€Î±ÏÎ¬Î¸Ï…ÏÎ¿ ÎµÎºÏ„ÏÏ€Ï‰ÏƒÎ·Ï‚, ÎµÏ€Î¹Î»Î­Î¾Ï„Îµ <strong>"Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ· Ï‰Ï‚ PDF"</strong> Ï‰Ï‚ ÎµÎºÏ„Ï…Ï€Ï‰Ï„Î®';
    document.body.appendChild(msg);
    setTimeout(() => {
      window.print();
      setTimeout(() => document.body.removeChild(msg), 500);
    }, 600);
  }

  function resetForm() {
    document.getElementById('calcForm').reset();
    document.getElementById('extraFields').style.display = 'none';
    document.getElementById('opFields').style.display    = 'none';
    document.getElementById('results').style.display     = 'none';
    document.getElementById('results').classList.remove('show');
    document.getElementById('inputCard').style.display   = 'block';
  }
</script>

</body>
</html>



